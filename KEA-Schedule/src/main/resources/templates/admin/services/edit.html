<th:block th:include="/admin/header.html" th:tag="remove"></th:block>
<div class="block">
    <h1>Edit Microservice</h1>
    <a href="../../" class="button right">Back</a>
<!--    <th:block th:if="${selectedmicroserviceid != 0}">
    </th:block> -->
</div>
<form method="post" action="../../edit" th:object="${microservice}">
    <input type="hidden" th:field="*{id}">
    <!--        <label>MicroService:</label>
            <p th:text="${selectedmicroservice.name}" class="disabledinput"></p> -->
    <label>Name:</label>
    <input type="text" th:field="*{name}">
    <p class="errortext" th:if="${#fields.hasErrors('name')}">Name must be unique and a maximum of 50 characters.</p>
    <label>Port:</label>
    <input type="text" th:field="*{port}">
    <p class="errortext" th:if="${#fields.hasErrors('port')}">Port must be between 1024 and 65535.</p>
    <label>Version:</label>
    <input type="text" th:field="*{version}">
    <p class="errortext" th:if="${#fields.hasErrors('version')}">Ineligible version number</p>
    <label>Description:</label>
    <input type="text" th:field="*{description}">
    <p class="errortext" th:if="${#fields.hasErrors('description')}">The max length of the description is XXXX characters.</p>
    <label>Required:</label>
    <input type="checkbox" th:field="*{userRequired}">
    <p class="errortext" th:if="${#fields.hasErrors('userRequired')}"></p>
    <label>Enabled:</label>
    <input type="checkbox" th:field="*{enabled}">
    <p class="errortext" th:if="${#fields.hasErrors('enabled')}"></p>
    <input type="submit" value="Edit">
    <p>Access Groups:
        <select size="10" name="accessgroups" class="form-control" multiple>
            <option th:each="group : ${accessgroups}"
                    th:value="${group.getId()}"
                    th:selected="${microservice.inAccessgroups(group)}"
                    th:text="${group.getName()}">
            </option>
        </select>
    </p>

</form>
<th:block th:include="/admin/footer.html" th:tag="remove"></th:block>