<th:block th:include="admin/header.html" th:tag="remove"></th:block>
<h1>Services</h1>
<a href="create/" class="button right">Create Microservice</a>
<table>
    <tr>
        <th>id</th>
        <th>name</th>
        <th>port</th>
        <th>version</th>
        <th>description</th>
        <th>enabled</th>
        <th>dependencies</th>
        <th>Access</th>
        <th class="invisible"></th>
        <th class="invisible"></th>
        <th class="invisible"></th>
    </tr>
    <tr th:each="service: ${microservices}" th:if="${service != null}">
        <td th:text="${service.id}"></td>
        <td th:text="${service.name}"></td>
        <td th:text="${service.port}"></td>
        <td th:text="${service.version}"></td>
        <td th:text="${service.description}"></td>
        <td><input type="checkbox" name="" th:checked="${service.enabled}" disabled></td>
        <td th:text="${service.dependencyMicroserviceId}"></td>
        <td>
            <th:block th:each="grp, iter: ${service.getAccessgroups()}" th:remove="tag"><th:block th:text="${grp.name}" th:if="${iter.index == 0}"></th:block><th:block th:text="${', ' + grp.name}" th:if="${iter.index > 0}"></th:block></th:block>
        </td>
        <td class="invisible"><a th:href="'view/' + ${service.id} + '/'" class="button">VIEW</a></td>
        <td class="invisible"><a th:href="'edit/' + ${service.id} + '/'" class="button">EDIT</a></td>
        <td class="invisible"><a th:href="'delete/' + ${service.id} + '/'" class="button">DELETE</a></td>
    </tr>
</table>
<th:block th:include="admin/footer.html" th:tag="remove"></th:block>
